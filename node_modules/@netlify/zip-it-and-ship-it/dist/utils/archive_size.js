"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.addArchiveSize = void 0;
const fs_1 = require("fs");
const path_1 = require("path");
// Returns the input object with an additional `size` property containing the
// size of the file at `path` when it is a ZIP archive.
const addArchiveSize = async (result) => {
    const { path } = result;
    if ((0, path_1.extname)(path) !== '.zip') {
        return result;
    }
    const { size } = await fs_1.promises.stat(path);
    return { ...result, size };
};
exports.addArchiveSize = addArchiveSize;
//# sourceMappingURL=archive_size.js.map