"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getPublishedFiles = void 0;
const matching_1 = require("../../../../utils/matching");
// We use all the files published by the Node.js except some that are not needed
const getPublishedFiles = async function (modulePath) {
    const ignore = getIgnoredFiles(modulePath);
    const publishedFiles = await (0, matching_1.glob)(`${modulePath}/**`, {
        ignore,
        nodir: true,
        absolute: true,
        dot: true,
    });
    return publishedFiles;
};
exports.getPublishedFiles = getPublishedFiles;
const getIgnoredFiles = function (modulePath) {
    return IGNORED_FILES.map((ignoreFile) => `${modulePath}/${ignoreFile}`);
};
// To make the zip archive smaller, we remove those.
const IGNORED_FILES = [
    'node_modules/**',
    '.npmignore',
    'package-lock.json',
    'yarn.lock',
    '*.log',
    '*.lock',
    '*~',
    '*.map',
    '*.ts',
    '*.patch',
];
//# sourceMappingURL=published.js.map