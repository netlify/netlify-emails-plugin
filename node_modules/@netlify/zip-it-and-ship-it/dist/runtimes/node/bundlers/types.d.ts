import type { Message } from '@netlify/esbuild';
import type { FunctionConfig } from '../../../config.js';
import type { FeatureFlag, FeatureFlags } from '../../../feature_flags.js';
import type { FunctionSource } from '../../../function.js';
import type { ModuleFormat } from '../utils/module_format.js';
export declare type NodeBundlerName = 'esbuild' | 'esbuild_zisi' | 'nft' | 'zisi';
declare type BundlerWarning = Message;
declare type CleanupFunction = () => Promise<void>;
export declare type NativeNodeModules = Record<string, Record<string, string | undefined>>;
export declare type BundleFunction = (args: {
    basePath?: string;
    config: FunctionConfig;
    featureFlags: Record<FeatureFlag, boolean>;
    pluginsModulesPath?: string;
    repositoryRoot?: string;
} & FunctionSource) => Promise<{
    aliases?: Map<string, string>;
    rewrites?: Map<string, string>;
    basePath: string;
    bundlerWarnings?: BundlerWarning[];
    cleanupFunction?: CleanupFunction;
    includedFiles: string[];
    inputs: string[];
    mainFile: string;
    moduleFormat: ModuleFormat;
    nativeNodeModules?: NativeNodeModules;
    nodeModulesWithDynamicImports?: string[];
    srcFiles: string[];
}>;
export declare type GetSrcFilesFunction = (args: {
    basePath?: string;
    config: FunctionConfig;
    featureFlags: FeatureFlags;
    pluginsModulesPath?: string;
    repositoryRoot?: string;
} & FunctionSource) => Promise<{
    srcFiles: string[];
    includedFiles: string[];
}>;
export interface NodeBundler {
    bundle: BundleFunction;
    getSrcFiles: GetSrcFilesFunction;
}
export {};
