
import process from"process";
















export const exitProcess=function({name,opts:{exitOn}}){
if(!exitOn.includes(name)){
return;
}





setTimeout(()=>{

process.exit(EXIT_STATUS);
},EXIT_TIMEOUT);
};

const EXIT_TIMEOUT=3000;
const EXIT_STATUS=1;

export const validateExitOn=function({exitOn}){
if(exitOn===undefined){
return;
}

const invalidEvents=exitOn.filter((name)=>!EVENTS.has(name));

if(invalidEvents.length===0){
return;
}

throw new Error(
`Invalid option 'exitOn' '${invalidEvents.join(
", ")
}': must be one of ${EVENTS_ARR.join(", ")}`);

};

const EVENTS_ARR=[
"uncaughtException",
"unhandledRejection",
"rejectionHandled",
"warning"];

const EVENTS=new Set(EVENTS_ARR);
//# sourceMappingURL=exit.js.map